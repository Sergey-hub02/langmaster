<!DOCTYPE html>
<html lang="ru" xmlns:th="http://thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title th:text="${'Профиль пользователя ' + user.getName()}">Профиль</title>

  <link rel="stylesheet" href="/resources/css/style.css">
  <link rel="stylesheet" href="/resources/css/blocks/container.css">

  <link rel="stylesheet" href="/resources/css/blocks/header.css">
  <link rel="stylesheet" href="/resources/css/blocks/logo.css">

  <link rel="stylesheet" href="/resources/css/blocks/section.css">
  <link rel="stylesheet" href="/resources/css/blocks/table.css">
  <link rel="stylesheet" href="/resources/css/blocks/form.css">
  <link rel="stylesheet" href="/resources/css/blocks/courses.css">

  <link rel="stylesheet" href="/resources/css/blocks/footer.css">
</head>


<body>
  
<!--========== ШАПКА САЙТА ==========-->
<header class="header">
  <div class="container">
    <div class="header__inner">
      <div class="logo">
        <a href="/langmaster" class="logo__link">LangMaster</a>
      </div>

      <nav class="nav" id="nav">
        <a th:if="${user != null}"
           th:href="@{/langmaster/profile/{name}(name=${user.getName()})}"
           class="nav__link">Профиль</a>

        <a th:if="${user == null}"
           href="/langmaster/register"
           class="nav__link">Регистрация</a>

        <a th:if="${user == null}"
           href="/langmaster/login"
           class="nav__link">Войти</a>

        <form th:if="${user != null}"
              th:action="@{/langmaster/logout}"
              th:method="POST"
              class="logout">
          <button class="nav__link" type="submit">Выйти</button>
        </form>
      </nav>

      <button class="burger" id="burger" type="button">Burger</button>
    </div> <!-- ./header__inner -->
  </div> <!-- ./container -->
</header>


<!--========== СЕКЦИЯ С ЛИЧНОЙ ИНФОРМАЦИЕЙ ==========-->
<section class="section">
  <div class="container">
    <header class="section__header">
      <h2 class="section__title">Личные данные</h2>
    </header>

    <div class="section__content">
      <table class="table" cellspacing="0">
        <tbody>
          <tr class="table__row">
            <td class="table__cell">ID пользователя</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell" th:text="${user.getId()}">ID</td>
          </tr>

          <tr class="table__row">
            <td class="table__cell">Имя пользователя</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell" th:text="${user.getName()}">Имя</td>
          </tr>

          <tr class="table__row">
            <td class="table__cell">Адрес электронной почты</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell" th:text="${user.getEmail()}">Электронная почта</td>
          </tr>

          <tr class="table__row">
            <td class="table__cell">Количество проходимых курсов</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell">0</td>
          </tr>

          <tr class="table__row">
            <td class="table__cell">Дата регистрации аккаунта</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell">&nbsp;</td>
            <td class="table__cell" th:text="${user.getRegistrationDate()}">Дата регистрации</td>
          </tr>
        </tbody>
      </table>

      <form th:action="@{/langmaster/profile/{name}(name=${user.getName()})}"
            th:object="${user}"
            style="margin-top: 25px; color: var(--bg-primary)"
            onsubmit="return confirm('Вы уверены, что хотите удалить аккаунт?')"
            class="form">
        <button type="submit" class="button">Удалить аккаунт</button>
      </form>
    </div> <!-- ./section__content -->
  </div> <!-- ./container -->
</section>


<!--========== СЕКЦИЯ "МОИ КУРСЫ" ==========-->
<section class="section">
  <div class="container">
    <header class="section__header">
      <h2 class="section__title">Мои курсы</h2>
    </header>

    <div class="section__content">
      <div class="courses">
      </div> <!-- ./courses -->
    </div> <!-- ./section__content -->
  </div> <!-- ./container -->
</section>


<!--========== СЕКЦИЯ "Созданные курсы" ==========-->
<section th:if="${userIsAdmin}" class="section">
  <div class="container">
    <header class="section__header">
      <h2 class="section__title">Созданные курсы</h2>
    </header>

    <div class="section__content">
      <div class="courses">

        <div th:each="course : ${createdCourses}" class="course">
          <a th:href="@{/langmaster/course/{id}(id=${course.getId()})}">
            <div class="course__wrapper">
              <div class="course__image">
                <img th:src="@{/resources/images/{image}(image=${course.getImage().getOriginalFilename()})}"
                     alt="">
              </div>

              <div class="course__info">
                <h3 th:text="${course.getTitle()}" class="course__title">Название курса</h3>
                <p th:text="${course.getDescription()}" class="course__description">Описание курса</p>
              </div>
            </div>
          </a>
        </div>

      </div>
    </div> <!-- ./section__content -->
  </div> <!-- ./container -->
</section>


<!--========== ПОДВАЛ САЙТА ==========-->
<footer class="footer">
  <div class="container">
    <div class="footer__inner">
      <div class="logo">
        <a href="/langmaster" class="logo__link">LangMaster</a>
      </div>

      <span class="footer__text" id="footer-text"></span>
    </div> <!-- ./footer__inner -->
  </div> <!-- ./container -->
</footer>


<!--========== JAVASCRIPT ==========-->
<script src="/resources/js/headerAndFooter.js"></script>

</body>

</html>
